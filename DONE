# DONE

Completed tasks moved from TODO.

## Initial Setup
- [x] Create project structure
- [x] Configure jsconfig.json with strict TypeScript checking
- [x] Configure ESLint with type-aware rules
- [x] Configure Prettier
- [x] Set up VS Code settings
- [x] Create initial Block schema with Zod
- [x] Document TS-like-JS approach in doc/TS-like-JS.md
- [x] Write project vision in doc/project.md

## Phase 1: Block Format Specification (COMPLETE)

Full name: **AIBlocks - Traceable Knowledge Format**

- [x] Define Block base schema (v, id, content, meta, origin, refs, parent)
- [x] Simplify to essential fields only (removed type, version, childIds)
- [x] Add license field for attribution preservation
- [x] Add timestamps (created, modified)
- [x] Add parent field (lineage reference)
- [x] URL reference type (classic links)
- [x] Archive snippet type (RAG-snippets for dead link recovery)
- [x] Search prompt type (query for refinding)
- [x] Hash/checksum type (integrity verification)
- [x] Create Zod schemas with JSDoc types
- [x] Write tests for Block schema validation (26 tests passing)
- [x] Write tests for reference types
- [x] Complete format specification (doc/format.md)
- [x] License-as-format philosophy (doc/license.md)
- [x] Publisher two-outputs model (doc/publisher.md)
- [x] Translate docs to English (project.md, publisher.md)
- [x] Security section (safe by construction)
- [x] Format naming decision: "AIBlocks - Traceable Knowledge Format"
- [x] Add README.md

## Phase 2: Publisher Core (COMPLETE)

- [x] 2a: ID Generation - SHA-256 content-based IDs (21 tests)
- [x] 2b: Publishing Functions - publish, derive, validate (43 tests)
- [x] 2c: File I/O - save/load .tref files (20 tests)
- [x] 2d: Registry - published.json index (19 tests)

## Phase 3: Wrapper JS (COMPLETE)

- [x] TrefWrapper class - display, serialize, drag/copy/download
- [x] TrefReceiver class - drop zones for receiving TREF blocks
- [x] TREF icon (purple-mint chain link SVG)
- [x] MIME type: application/vnd.aiblocks.tref+json
- [x] wrap() and unwrap() functions
- [x] Demo page with article, drag, and chat receiver
- [x] 37 wrapper tests (140 total)

## Phase 4: Publisher CLI (COMPLETE)

- [x] 4a: CLI Foundation - Entry point, argument parsing, subcommands
- [x] 4b: Publish Command - Content, file, stdin input with refs/license options
- [x] 4c: Derive Command - Parent derivation with lineage preservation
- [x] 4d: Validate Command - Integrity check with exit codes
- [x] 4e: List/Info Commands - Registry browsing
- [x] 4f: MCP Server - Model Context Protocol server for AI integration
- [x] Global CLI install via npm link
- [x] GitHub Pages site at tref.lpmwfx.com
- [x] v0.1.0 MVP release with cross-platform executables
- [x] 167 tests total

## Phase 5: Website & Documentation (COMPLETE)

- [x] 5a: Landing Page - Modern design, what is TREF, quick start, install one-liners
- [x] 5b: Embed Snippets Page - Copy-paste HTML for TrefWrapper/TrefReceiver with live previews
- [x] 5c: Format Guide Page - Block anatomy, field reference, reference types explained
- [x] 5d: CLI Guide Page - Installation, command reference, MCP setup
- [x] 5e: Builder Page - Interactive TREF builder with live preview and download
- [x] 5f: Demo Page - Article citations, chat demo, drag-drop playground, validation
- [x] 5g: Release Page - Download links with icons, changelog, GitHub links
- [x] 5h: Browser Bundle - tref.min.js (8KB), self-contained, CDN-ready

## AIBlocks → TREF Naming Refactor (2026-01-07)

- [x] src/index.js - Hello message
- [x] src/tref.manifest.json - license, project name, URLs
- [x] src/publisher/publish.js - AIBlock typedef → TrefBlock
- [x] src/publisher/io.js - AIBlock typedef → TrefBlock
- [x] src/publisher/publish.test.js - test description
- [x] src/publisher/id.test.js - license in test data
- [x] src/mcp/server.js - default license in description

## Release v0.2.0 (2026-01-07)

- [x] Updated version to 0.2.0 in package.json
- [x] Updated CHANGELOG with v0.2.0 release notes
- [x] Built browser bundle and CLI executables
- [x] Published tref-block@0.2.0 to npm (16.4 kB)
