{
  "v": 1,
  "content": "# JavaScript API\n\nBrowser library for creating and interacting with TREF blocks.\n\n## Include the script\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/tref-block/dist/tref-block.js\"></script>\n```\n\nOr install from npm:\n\n```\nnpm install tref-block\n```\n\n## Create and display a block\n\n```javascript\nconst block = await TREF.publish(\"My knowledge\", {\n  author: \"Jane\",\n  refs: [{ type: \"url\", url: \"https://source.com\", title: \"Source\" }]\n});\n\nconst wrapper = new TREF.TrefWrapper(block);\ndocument.body.innerHTML = wrapper.toHTML();\nwrapper.attachEvents(document.querySelector('.tref-wrapper'));\n```\n\n## Derive from existing\n\nCreate a child block that links back to its parent, preserving lineage.\n\n```javascript\nconst child = await TREF.derive(parentBlock, \"New content based on parent\");\n```\n\n## Validate integrity\n\nVerify that a block's ID matches its content hash (tamper detection).\n\n```javascript\nconst isValid = await TREF.validate(block);\nconsole.log(isValid ? \"Block is authentic\" : \"Block has been tampered with\");\n```\n\n## Drag and drop\n\nTREF blocks are draggable by default. Create a receiver:\n\n```javascript\nconst receiver = new TREF.TrefReceiver(dropZoneElement, {\n  onReceive: (wrapper) => {\n    console.log(\"Received block:\", wrapper.block);\n  }\n});\n```",
  "meta": {
    "created": "2026-01-07T17:49:01.327Z",
    "license": "CC-BY-4.0",
    "author": "TREF Documentation"
  },
  "refs": [
    {
      "type": "url",
      "url": "https://tref.lpmwfx.com/js-api.html",
      "title": "JavaScript API"
    }
  ],
  "id": "sha256:5361c3abd43c6ce0452cb8f1922a833a6ecec7bac2c4107949acaadb4fa69524"
}