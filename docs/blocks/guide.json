{
  "v": 1,
  "content": "# TREF Developer Guide\n\nCLI commands, API reference, and integration patterns.\n\n## Quick Start (CLI)\n\n### Install\n\nDownload and install the TREF CLI tool.\n\n```\ncurl -sSL https://tref.lpmwfx.com/install.sh | bash\n```\n\n### Create a block\n\nPublish your first TREF block from the command line.\n\n```\ntref publish \"The speed of light is 299,792,458 m/s\"\n```\n\n### Add references\n\nInclude source URLs for verifiability.\n\n```\ntref publish \"Fact here\" --refs '[{\"type\":\"url\",\"url\":\"https://source.com\"}]'\n```\n\n### Derive from existing\n\nCreate a new block based on an existing one, preserving lineage.\n\n```\ntref derive sha256:abc123... \"Updated content with corrections\"\n```\n\n## CLI Commands\n\n### tref publish\n\nCreate a new TREF block.\n\n```\ntref publish \"content\"\ntref publish -f file.md\necho \"content\" | tref publish --stdin\ntref publish \"content\" --refs '[...]' --license CC-BY-4.0\n```\n\n### tref derive\n\nCreate a child block from a parent, preserving lineage.\n\n```\ntref derive <parent-id> \"new content\"\ntref derive sha256:abc... \"Updated\" --refs '[{\"type\":\"url\",\"url\":\"...\"}]'\n```\n\n### tref validate\n\nVerify a block's integrity (ID matches content hash).\n\n```\ntref validate block.tref\ntref validate published/ab/abc123...def.tref\n```\n\n### tref list / info / cat\n\nBrowse and read published blocks.\n\n```\ntref list                    # List all blocks\ntref info sha256:abc...      # Show metadata\ntref cat sha256:abc...       # Output content\ntref cat sha256:abc... --format json\n```\n\n## JavaScript API (Browser)\n\n### Include the script\n\n```html\n<script src=\"https://cdn.jsdelivr.net/npm/tref-block/dist/tref-block.js\"></script>\n```\n\n### Create and display a block\n\n```javascript\nconst block = await TREF.publish(\"My knowledge\", {\n  author: \"Jane\",\n  refs: [{ type: \"url\", url: \"https://source.com\", title: \"Source\" }]\n});\n\nconst wrapper = new TREF.TrefWrapper(block);\ndocument.body.innerHTML = wrapper.toHTML();\nwrapper.attachEvents(document.querySelector('.tref-wrapper'));\n```\n\n### Derive from existing\n\n```javascript\nconst child = await TREF.derive(parentBlock, \"New content based on parent\");\n```\n\n### Validate integrity\n\n```javascript\nconst isValid = await TREF.validate(block);\nconsole.log(isValid ? \"Block is authentic\" : \"Block has been tampered with\");\n```\n\n### Drag and drop\n\nTREF blocks are draggable by default. Create a receiver:\n\n```javascript\nconst receiver = new TREF.TrefReceiver(dropZoneElement, {\n  onReceive: (wrapper) => {\n    console.log(\"Received block:\", wrapper.block);\n  }\n});\n```\n\n## Claude Code MCP\n\nUse TREF directly from Claude Code with the MCP server.\n\n### Install\n\n```\nclaude mcp add tref -- tref-mcp\n```\n\n### Available tools\n\n- tref_publish - Create a new block\n- tref_derive - Derive from parent\n- tref_validate - Check block integrity\n- tref_list - List all blocks\n- tref_info - Get block metadata\n- tref_cat - Read block content",
  "meta": {
    "created": "2026-01-07T16:01:43.788Z",
    "license": "CC-BY-4.0",
    "author": "TREF Documentation"
  },
  "refs": [
    {
      "type": "url",
      "url": "https://tref.lpmwfx.com/guide.html",
      "title": "TREF Developer Guide"
    }
  ],
  "id": "sha256:5e162ad91b86f6d32be9a8eeceb356915dfaf2cfac6dfedabfae99725b1efeef"
}